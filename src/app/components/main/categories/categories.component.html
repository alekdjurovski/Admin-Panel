<app-header></app-header>

<div class="row">
  <div class="container jumbotron">
    <div class="container-fluid">
      <div class="row">
        <div class="col-lg col-md-4 col-sm-5 bg-body">
          <app-sidebar></app-sidebar>
        </div>

        <div class="col-lg-8 col-md-8 col-sm-6 col-xs-12 right mt-3 ">
          <h1 class="mb-4">Categories</h1>
          <div class="form-group form-inline">
            <button
              type="reset"
              class="btn btn-style ml-5"
              [routerLink]="['/categories/add']"
              routerLinkActive="router-link-active"
            >
              Add New
            </button>
          </div>
          <form class="form-inline d-flex flex-row-reverse">
            <img src="../../../../assets/img/icons8-search-512.png" alt="search" class="icon-style edit" (click)="search()">

            <input
              class="form-control mr-sm-2 search-style"
              type="search"
              name="search"
              placeholder="Search by name"
              aria-label="Search"
              [(ngModel)]="searchName"
              (input)="resetSearch()"
            />
          </form>
          <table class="table table-striped">
            <thead>
              <tr class="head-row">
                <th scope="col">Name</th>
                <th scope="col">Parent Category</th>
                <th scope="col">Action</th>
              </tr>
            </thead>
            <tbody class="">
              <tr *ngFor="let item of categories">
                <td>{{ item.name }}</td>
                <td>{{ item.parentCategoryName }}</td>
                <td>
                  <div class="d-flex justify-content-around">
                  <img
                    src="../../../../assets/img/icons8-create-96.png"
                    class="icon-style edit"
                    alt="edit"
                    [routerLink]="['/categories/edit', item.id]"
                    routerLinkActive="router-link-active"
                  />
                  <img
                    src="../../../../assets/img/icons8-trash-96.png"
                    class="icon-style del"
                    alt="delete"
                    (click)="openModalWithComponent(item.id)"
                  />
                </div>
                </td>
              </tr>
            </tbody>
          </table>
        </div>
        <div class="col-lg-1"></div>
      </div>
    </div>
  </div>
</div>
